# v0.3 — Gap Analyzer & Planner (analysis intelligence)

Replace the analytical core: how Anima understands gaps and plans work.

**Seed MVP (what exists today):**
- analyze_gaps: concatenates unchecked roadmap items + quality failures as strings
- plan_iteration: constructs a big prompt string with all context inlined

**Module targets (what the agent builds — must exceed seed):**
- Gap Analyzer: structured GapReport matching domain/models.py,
  priority-based ranking, deduplication, cross-iteration pattern detection
  (avoid re-attempting the same failed approach)
- Planner: structured IterationPlan, strategy selection (fix vs build vs refactor),
  scope control (prevent over-ambitious iterations), risk assessment

- [ ] Implement modules/gap_analyzer/core.py with structured GapReport
- [ ] Tests for gap_analyzer validating SPEC.md (behavior)
- [ ] Wire analyze_gaps into wiring.py with conformance test validating CONTRACT.md (interface)
- [ ] Implement modules/planner/core.py with structured IterationPlan
- [ ] Tests for planner validating SPEC.md (behavior)
- [ ] Wire plan_iteration into wiring.py with conformance test validating CONTRACT.md (interface)
- [ ] All code passes full quality pipeline
